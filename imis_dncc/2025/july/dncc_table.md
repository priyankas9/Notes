## Site Settings

---

**script :**

-- Table: public.sdm_sitesettings

-- DROP TABLE IF EXISTS public.sdm_sitesettings;

CREATE TABLE IF NOT EXISTS public.sdm_sitesettings
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    value character varying(255) COLLATE pg_catalog."default",
    remarks character varying COLLATE pg_catalog."default",
    data_type character varying(255) COLLATE pg_catalog."default",
    options character varying COLLATE pg_catalog."default",
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    deleted_at timestamp without time zone,
    CONSTRAINT sitesettings_pkey PRIMARY KEY (id)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.sdm_sitesettings
    OWNER to postgres;

**"Also plese refer to the csv for inserting the data"**

## Building Table

---

ALTER TABLE building_info.buildings
ADD COLUMN block_number VARCHAR,
ADD COLUMN connected_road_width NUMERIC,
ADD COLUMN water_status VARCHAR,
ADD COLUMN wasa_status VARCHAR,
ADD COLUMN wasa_bill_no VARCHAR;
ADD COLUMN toilet_category VARCHAR,
ADD COLUMN containment_category VARCHAR;

## Application Table

---

ALTER TABLE fsm.applications
ADD COLUMN supervisory_assessment_date DATE,
ADD COLUMN supervisory_assessment_status BOOLEAN DEFAULT false;

## Containment Table

---

ALTER TABLE fsm.containments
ADD COLUMN priority INTEGER,
ADD COLUMN fstp_distance NUMERIC,
ADD COLUMN closest_fstp_id INTEGER,
ADD COLUMN status INTEGER;

## Supervisory Assessment

---

-- Table: fsm.supervisory_assessments

-- DROP TABLE IF EXISTS fsm.supervisory_assessments;

CREATE TABLE IF NOT EXISTS fsm.supervisory_assessments
(
    id integer NOT NULL DEFAULT nextval('fsm.supervisory_assessments_id_seq'::regclass),
    assessment_request_id integer,
    holding_number character varying(50) COLLATE pg_catalog."default",
    owner_name character varying(255) COLLATE pg_catalog."default",
    owner_gender character varying(10) COLLATE pg_catalog."default",
    owner_contact character varying(20) COLLATE pg_catalog."default",
    containment_type integer,
    containment_outlet_connection character varying(50) COLLATE pg_catalog."default",
    containment_volume numeric,
    road_width numeric,
    distance_from_nearest_road numeric,
    septic_tank_length numeric,
    septic_tank_width numeric,
    septic_tank_depth numeric,
    number_of_pit_rings integer,
    pit_diameter numeric,
    pit_depth numeric,
    appropriate_desludging_vehicle_size character varying(50) COLLATE pg_catalog."default",
    number_of_trips integer,
    confirmed_emptying_date date,
    advance_paid_amount numeric,
    created_at timestamp without time zone,
    updated_at timestamp without time zone,
    deleted_at timestamp without time zone,
    application_id integer,
    CONSTRAINT supervisory_assessments_pkey PRIMARY KEY (id),
    CONSTRAINT fk_application_id FOREIGN KEY (application_id)
        REFERENCES fsm.applications (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE SET NULL
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS fsm.supervisory_assessments
    OWNER to postgres;

**Sequence**

---

CREATE SEQUENCE IF NOT EXISTS fsm.supervisory_assessments_id_seq
    INCREMENT 1
    START 1
    MINVALUE 1
    MAXVALUE 2147483647
    CACHE 1

ALTER SEQUENCE fsm.supervisory_assessments_id_seq
    OWNER TO postgres;

## Service Providers

---

ALTER TABLE fsm.service_providers
ADD COLUMN contract_document_pdf VARCHAR;
